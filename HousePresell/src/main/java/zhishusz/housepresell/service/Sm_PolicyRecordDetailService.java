package zhishusz.housepresell.service;import zhishusz.housepresell.controller.form.Sm_PolicyRecordForm;import zhishusz.housepresell.database.dao.Sm_PolicyRecordDao;import zhishusz.housepresell.database.po.Sm_PolicyRecord;import zhishusz.housepresell.database.po.state.S_NormalFlag;import zhishusz.housepresell.util.MyBackInfo;import zhishusz.housepresell.util.MyProperties;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.Properties;import javax.transaction.Transactional;/* * Service详情操作：政策公告 * Company：ZhiShuSZ */@Service@Transactionalpublic class Sm_PolicyRecordDetailService{	@Autowired	private Sm_PolicyRecordDao sm_PolicyRecordDao;// 政策公告	public Properties execute(Sm_PolicyRecordForm model)	{		Properties properties = new MyProperties();		Long tableId = model.getTableId();		if (null == tableId || tableId < 1)		{			return MyBackInfo.fail(properties, "请选择需要查询的公告信息");		}		Sm_PolicyRecord sm_PolicyRecord = sm_PolicyRecordDao.findById(tableId);		if (null == sm_PolicyRecord)		{			return MyBackInfo.fail(properties, "未查询到相关信息，请稍后重试！");		}				//设置浏览次数		sm_PolicyRecord.setBrowseTimes((null==sm_PolicyRecord.getBrowseTimes()?0:sm_PolicyRecord.getBrowseTimes())+1);		sm_PolicyRecordDao.save(sm_PolicyRecord);				properties.put(S_NormalFlag.result, S_NormalFlag.success);		properties.put(S_NormalFlag.info, S_NormalFlag.info_Success);		properties.put("sm_PolicyRecord", sm_PolicyRecord);		return properties;	}}