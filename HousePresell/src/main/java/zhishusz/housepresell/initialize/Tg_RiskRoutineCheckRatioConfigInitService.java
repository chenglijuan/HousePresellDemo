package zhishusz.housepresell.initialize;import javax.transaction.Transactional;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import zhishusz.housepresell.controller.form.Sm_BaseParameterForm;import zhishusz.housepresell.database.dao.Sm_BaseParameterDao;import zhishusz.housepresell.database.dao.Sm_UserDao;import zhishusz.housepresell.database.dao.Tg_RiskRoutineCheckRatioConfigDao;import zhishusz.housepresell.database.po.Sm_BaseParameter;import zhishusz.housepresell.database.po.Tg_RiskRoutineCheckRatioConfig;import zhishusz.housepresell.database.po.state.S_TheState;import zhishusz.housepresell.service.Sm_BusinessCodeGetService;/* * Service:风控例行抽查比例配置初始化业务代码 * */@Service@Transactionalpublic class Tg_RiskRoutineCheckRatioConfigInitService{	private static final String BUSI_CODE = "21020102";		private String[] parameterValueArr = {"030301-03030101", "030301-03030102", "061102-06110203", "061102-06110201", "061103-06110302", 											"061103-06110301", "061203-06120301", "061202-06120201", "061202-06120202", "2101-210104", 											"061204-06120401"};	private String parameterType = "1";		@Autowired	private Tg_RiskRoutineCheckRatioConfigDao tg_RiskRoutineCheckRatioConfigDao;	@Autowired	private Sm_BaseParameterDao sm_BaseParameterDao;	@Autowired	private Sm_BusinessCodeGetService sm_BusinessCodeGetService;	@Autowired	private Sm_UserDao sm_UserDao;		public void Step6_saveRiskRoutineCheckRatioConfig()	{		for(String theValue : parameterValueArr)		{			String[] theValueArr = theValue.split("-");						Sm_BaseParameterForm largeParameterForm = new Sm_BaseParameterForm();			largeParameterForm.setParametertype(parameterType);			largeParameterForm.setTheValue(theValueArr[0]);			largeParameterForm.setTheState(S_TheState.Normal);						Sm_BaseParameterForm subParameterForm = new Sm_BaseParameterForm();			subParameterForm.setParametertype(parameterType);			subParameterForm.setTheValue(theValueArr[1]);			subParameterForm.setTheState(S_TheState.Normal);						Sm_BaseParameter largeParameter = sm_BaseParameterDao.findOneByQuery_T(sm_BaseParameterDao.getQuery(sm_BaseParameterDao.getBasicHQL(), largeParameterForm));			Sm_BaseParameter subParameter = sm_BaseParameterDao.findOneByQuery_T(sm_BaseParameterDao.getQuery(sm_BaseParameterDao.getBasicHQL(), subParameterForm));			String largeBusinessName = null;			String subBusinessName = null;						if(largeParameter != null)largeBusinessName = largeParameter.getTheName();			if(largeParameter != null)subBusinessName = subParameter.getTheName();						Tg_RiskRoutineCheckRatioConfig tg_RiskRoutineCheckRatioConfig = new Tg_RiskRoutineCheckRatioConfig();			tg_RiskRoutineCheckRatioConfig.setTheState(S_TheState.Normal);			tg_RiskRoutineCheckRatioConfig.setBusiState(null);			tg_RiskRoutineCheckRatioConfig.seteCode(sm_BusinessCodeGetService.execute(BUSI_CODE));//			tg_RiskRoutineCheckRatioConfig.setUserStart(sm_UserDao.findById(1l));			tg_RiskRoutineCheckRatioConfig.setCreateTimeStamp(System.currentTimeMillis());//			tg_RiskRoutineCheckRatioConfig.setUserUpdate(sm_UserDao.findById(1l));			tg_RiskRoutineCheckRatioConfig.setLastUpdateTimeStamp(System.currentTimeMillis());			tg_RiskRoutineCheckRatioConfig.setUserRecord(null);			tg_RiskRoutineCheckRatioConfig.setRecordTimeStamp(null);			tg_RiskRoutineCheckRatioConfig.setLargeBusinessValue(theValueArr[0]);			tg_RiskRoutineCheckRatioConfig.setLargeBusinessName(largeBusinessName);			tg_RiskRoutineCheckRatioConfig.setSubBusinessValue(theValueArr[1]);			tg_RiskRoutineCheckRatioConfig.setSubBusinessName(subBusinessName);			tg_RiskRoutineCheckRatioConfig.setRole(null);			tg_RiskRoutineCheckRatioConfig.setTheRatio(null);						tg_RiskRoutineCheckRatioConfigDao.save(tg_RiskRoutineCheckRatioConfig);		}	}}